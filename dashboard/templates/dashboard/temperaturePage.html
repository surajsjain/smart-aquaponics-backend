{% extends 'dashboard/dashboardBase.html' %}

{% load staticfiles %}

{% block jsLinks %}
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
{% endblock %}

{% block mainContent %}

<!-- Header -->
<header class="w3-container" style="padding-top:22px">
    <h5><b><i class="fa fa-dashboard"></i> Current Temperature</b></h5>
</header>

<div class="w3-row-padding w3-margin-bottom">

    <div class="w3-quarter">
        <div class="w3-container w3-red w3-text-white w3-padding-16">
            <div class="w3-left"><i class="fa fa-thermometer w3-xxxlarge"></i></div>
            <div class="w3-right">
                <h3>25Â°C</h3>
            </div>
            <div class="w3-clear"></div>
            <h4>Temperature</h4>
        </div>
    </div>

</div>

<div id="tempGraph" style="width: -webkit-fill-available; height: 30%; margin: 1.8%; border-radius: 10%;">

</div>

<hr>

<div class="w3-container">
    <h5>Recent Comments</h5>
    <div class="w3-row">
        <div class="w3-col m2 text-center">
            <img class="w3-circle" src="{% static 'dashboard/avatar3.png' %}"" style=" width:96px;height:96px">
        </div>
        <div class="w3-col m10 w3-container">
            <h4>John <span class="w3-opacity w3-medium">Sep 29, 2014, 9:12 PM</span></h4>
            <p>Keep up the GREAT work! I am cheering for you!! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p><br>
        </div>
    </div>

    <div class="w3-row">
        <div class="w3-col m2 text-center">
            <img class="w3-circle" src="{% static 'dashboard/avatar1.png' %}" style="width:96px;height:96px">
        </div>
        <div class="w3-col m10 w3-container">
            <h4>Bo <span class="w3-opacity w3-medium">Sep 28, 2014, 10:15 PM</span></h4>
            <p>Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p><br>
        </div>
    </div>
</div> <!-- Comments -->
<br>

{% endblock %}

{% block scriptBlock %}
    <script>
        // Get the Sidebar
        var mySidebar = document.getElementById("mySidebar");
        const moistureValueDisp = document.getElementById('sMoistureValue');

        // var i = 0;

        // Get the DIV with overlay effect
        var overlayBg = document.getElementById("myOverlay");

        // Toggle between showing and hiding the sidebar, and add overlay effect
        function w3_open() {
            if (mySidebar.style.display === 'block') {
                mySidebar.style.display = 'none';
                overlayBg.style.display = "none";
            } else {
                mySidebar.style.display = 'block';
                overlayBg.style.display = "block";
            }
        }

        // Close the sidebar with the close button
        function w3_close() {
            mySidebar.style.display = "none";
            overlayBg.style.display = "none";
        }

        function getSoilNow() {
            var moisture = Math.floor((Math.random() * 100) + 1);
            moistureValueDisp.innerHTML = moisture + "%";
        }

        function startTime() {
            // document.getElementById('ftr').innerHTML = "Hello "+i;
            // i = i + 1;
            var today = new Date();
            var h = today.getHours();
            var m = today.getMinutes();
            var s = today.getSeconds();
            m = checkTime(m);
            s = checkTime(s);
            document.getElementById('txt').innerHTML =
                h + ":" + m + ":" + s;
            // getSoilNow();
            var t = setTimeout(startTime, 500);
        }

        function checkTime(i) {
            if (i < 10) {
                i = "0" + i
            }; // add zero in front of numbers < 10
            return i;
        }

        // var i = 0;
        //
        // while(true){
        //     i = i + 1;
        // }

        /////Graph

        // function draw(rows, drawMaterial) {
        //     // const drawMaterial = 'linechart_material'
        //
        //     google.charts.load('current', {
        //         'packages': ['line']
        //     });
        //     google.charts.setOnLoadCallback(drawChart(rows, drawMaterial));
        //
        //
        //     // google.charts.setOnLoadCallback({
        //     //
        //     //     var data = new google.visualization.DataTable();
        //     //     data.addColumn('number', 'Day');
        //     //     data.addColumn('number', 'Guardians of the Galaxy');
        //     //     data.addColumn('number', 'The Avengers');
        //     //     data.addColumn('number', 'Transformers: Age of Extinction');
        //     //
        //     //     // data.addRows([
        //     //     //     [1, 37.8, 80.8, 41.8],
        //     //     //     [2, 30.9, 69.5, 32.4],
        //     //     //     [3, 25.4, 57, 25.7],
        //     //     //     [4, 11.7, 18.8, 10.5],
        //     //     //     [5, 11.9, 17.6, 10.4],
        //     //     //     [6, 8.8, 13.6, 7.7],
        //     //     //     [7, 7.6, 12.3, 9.6],
        //     //     //     [8, 12.3, 29.2, 10.6],
        //     //     //     [9, 16.9, 42.9, 14.8],
        //     //     //     [10, 12.8, 30.9, 11.6],
        //     //     //     [11, 5.3, 7.9, 4.7],
        //     //     //     [12, 6.6, 8.4, 5.2],
        //     //     //     [13, 4.8, 6.3, 3.6],
        //     //     //     [14, 4.2, 6.2, 3.4]
        //     //     // ]);
        //     //
        //     //     data.addRows(rows);
        //     //
        //     //     var options = {
        //     //         chart: {
        //     //             title: 'Box Office Earnings in First Two Weeks of Opening',
        //     //             subtitle: 'in millions of dollars (USD)'
        //     //         },
        //     //         width: 900,
        //     //         height: 500
        //     //     };
        //     //
        //     //     var chart = new google.charts.Line(document.getElementById(drawMaterial));
        //     //
        //     //     chart.draw(data, google.charts.Line.convertOptions(options));
        //     // });
        //
        // }



        // console.log("Script is loaded successfully");
        r = [];
        i = 0;
        console.log("Graph Script has been loaded");
        // updateChart();

        function getRows() {
            var gog = (Math.random() * 100) + 1;
            var avenge = (Math.random() * 100) + 1;
            var trf = (Math.random() * 100) + 1;

            r[i] = [(i + 1), gog, avenge, trf];
            i = i + 1;

            return r;
        }

        google.charts.load('current', {
            'packages': ['line']
        });
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {

            const drawMaterial = 'tempGraph';

            var data = new google.visualization.DataTable();
            data.addColumn('number', 'Day');
            data.addColumn('number', 'Guardians of the Galaxy');
            data.addColumn('number', 'The Avengers');
            data.addColumn('number', 'Transformers: Age of Extinction');

            // data.addRows([
            //     [1, 37.8, 80.8, 41.8],
            //     [2, 30.9, 69.5, 32.4],
            //     [3, 25.4, 57, 25.7],
            //     [4, 11.7, 18.8, 10.5],
            //     [5, 11.9, 17.6, 10.4],
            //     [6, 8.8, 13.6, 7.7],
            //     [7, 7.6, 12.3, 9.6],
            //     [8, 12.3, 29.2, 10.6],
            //     [9, 16.9, 42.9, 14.8],
            //     [10, 12.8, 30.9, 11.6],
            //     [11, 5.3, 7.9, 4.7],
            //     [12, 6.6, 8.4, 5.2],
            //     [13, 4.8, 6.3, 3.6],
            //     [14, 4.2, 6.2, 3.4]
            // ]);

            rows = getRows();

            data.addRows(rows);

            var options = {
                chart: {
                    title: 'Box Office Earnings in First Two Weeks of Opening',
                    subtitle: 'in millions of dollars (USD)'
                },
                width: 900,
                height: 500
            };

            var chart = new google.charts.Line(document.getElementById(drawMaterial));

            chart.draw(data, google.charts.Line.convertOptions(options));

            setTimeout(drawChart, 10000);

        }




        // function updateChart(){
        //     console.log("Script is loaded successfully");
        //
        //     var gog = (Math.random() * 100) + 1;
        //     var avenge = (Math.random() * 100) + 1;
        //     var trf = (Math.random() * 100) + 1;
        //
        //     r[i] = [(i+1), gog, avenge, trf];
        //     i = i + 1;
        //
        //     console.log(r);
        //     console.log(i);
        //
        //     draw(r, 'linechart_material');
        //     setTimeout(updateChart, 1000);
        // }
    </script>

{% endblock %}
